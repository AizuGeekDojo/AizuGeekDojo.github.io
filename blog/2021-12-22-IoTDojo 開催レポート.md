---
title: IoT Dojo 開催レポート
created_at: 2021-12-22
keywords: ブログ,イベント
description:
writer: shinbunbun
---

## はじめに

共同編集者: 朱雀匠

みなさんこんにちは！会津大学学部一年の高棟雄斗です！

今回はAizuGeek Dojoで開催した「IoT Dojo」というイベントについて報告します。

## イベント概要

IoT Dojoとは2021/04に開催した「Arduino Dojo」の第二弾で、Arduino Dojoに「Internet」の要素を付加したものになります。

Arduino Dojoではその名の通りArduinoを使用しましたが、IoT DojoではESP32を採用しました。

勉強会2回+2週間のミニハッカソンという構成で実施しました。
1，2年生を中心に22名の参加がありました！

![FFcns-VaUAEReW3](https://user-images.githubusercontent.com/34409044/147128979-d7e850f7-5281-402f-a77a-8bb42c2e04a8.jpeg)

## 使用した主な機材について

### ESP32 DevKitC

秋月電子で売っているごくごく一般的な[ESP32のDevKitC](https://akizukidenshi.com/catalog/g/gM-15673/)です。

### Fabo

初心者対象ということもあり、シールドに刺すだけで簡単にモジュールが使えるFaboを採用しました。Faboのモジュールは[株式会社FaBo](https://fabo.store/)様にお借りしました。

![6FB5AAE1-72D6-4E6E-B96E-31A6631D07AA_1_105_c](https://user-images.githubusercontent.com/34409044/147129313-ff982dc6-193c-4566-83cc-2b48460e6968.jpeg)

### ESP32 DevKitC用Faboシールド

Arduino用のシールドは販売されているのですがESP32 DevKitC用のシールドは販売されていないため、[奥山先生](https://www.u-aizu.ac.jp/research/faculty/detail?cd=90035)にご協力いただき自作しました。Eagleで基板設計を行ったのち、深圳の工場に発注して制作しました。

![F3D3C04F-DFC6-4979-985D-53CEE02C73F6_1_105_c](https://user-images.githubusercontent.com/34409044/147129387-6e0650c7-3f36-4f25-9b9f-4e3160daa9d2.jpeg)

![9FF63848-D6FE-4AC6-889D-907360344DF3_1_105_c](https://user-images.githubusercontent.com/34409044/147129401-ae297fe4-3c28-4184-a43b-b2914471fa2c.jpeg)

勉強会前日にGeek SA陣が必死で半田付けをしてなんとか完成しました。

![DSC_0360](https://user-images.githubusercontent.com/34409044/147129887-38d9638e-7cb3-4658-b4c5-b62857d15b79.JPG)

## 勉強会について

勉強会はGeek SAの朱雀先輩に講師をしていただきました。ソースコードのリポジトリは[こちら](https://github.com/AizuGeekDojo/IoTDojo)になります。

1日目はESP32でのLチカやHTTP通信（Slack WebhookへのPOST）について学び、2日目はWebとセンサーを組み合わせるところや他のいろいろなモジュールを使ってみるといったことをやりました。

![HORIZON_0001_BURST20211205102545206_COVER](https://user-images.githubusercontent.com/34409044/147129893-7d0e4a95-d943-4262-b701-9ebddb04f943.JPG)

## ミニハッカソンについて

ハッカソンは6チームに分かれて行い、1チームに1人SAがアシスタントとしてサポートを行いました。

## 成果物発表会

ここからは、しんぶんぶんが成果物発表にこれなかったため、IoTDojoで講師を務めた朱雀 匠が代わりに書きます。  
発表順を以下のコマンドで決めました。  

```bash
seq 1 6|sort -R
```

コマンドの結果、発表順は`3,1,2,4,6,5`でしたが、Type-CとHDMIの変換が無かったため以下のようになりました。

- [チーム3](#チーム3の発表)
- [チーム2](#チーム2の発表)
- [チーム4](#チーム4の発表)
- [チーム1](#チーム1の発表)
- [チーム6](#チーム6の発表)
- [チーム5](#チーム5の発表)

## チーム3の発表

チーム3は「閃光君」という、目覚まし時計の作成をしました。  
閃光君の特徴は、

- 光で起こしてくれる
- 光を消すには、ブラウザ上で行われるOXゲームに勝たないといけない

node.jsを使用し、サーバを介してスマホとESP32のやり取りをしています。  
光に関しては、マトリックスLEDを使用しています。  

![Team3](https://user-images.githubusercontent.com/71514776/147133143-fc5d4b82-7856-45b1-bebc-4202d9068834.PNG)

### 感想

このチームは、映像も交えて解説していたためわかりやすい発表でした。  
またチーム開発は初めてとのことでしたが、そうとは思えない完成度でした。

## チーム2の発表

チーム2が作成したものは、「Too Very Secured Website」です。  
この作品は、家の温度と照度の1日のデータをネット上で公開するものです。  
自分の生活を公開することで、友達などに生活を監視してもらい、生活習慣を正したい、という思いで開発したとのことです。

技術構成としては

- フロントエンド: React.ts
- バックエンド: Common Lisp(clack,ningle)
- 気温・光度データ収集: ESP32

気温と光度を表示しているサイトの画像
<img width="1440" alt="スクリーンショット 2021-12-23 9 33 41" src="https://user-images.githubusercontent.com/71514776/147170595-5d1c2fc6-e506-40c3-84a4-06e54252b011.png">

工夫した点としては、以下の点が挙げられます。

- データの間引きや平滑化などの加工
- HTTPS通信の使用

### 感想

このチームは、技術力が高く、正直自分も何をやっているのかわからない部分がありました。  
Common Lispでサーバを書くという高度なことをやっていました。
しかし、発表では技術についての説明が多く、初学者(多くの受講者)は理解がしにくかったかもしれません。
開発しようと思った目的や作ったものについての説明がもっとあるとよかったです。
発表の改善点はいっぱいありましたが、技術的にもモノ的にも面白い作品でした。

## チーム4の発表

チーム４が作成したものは、会津大学学祭室の扉の開閉について、**自動で**お知らせするSlackBotです。

具体的な機能としては以下のものがあります。

- 扉の開け閉めをしたらSlackに半自動で通知を送る
- ボタンを押したら定型文を送る
- その他

### 扉の開け閉めをしたらSlackに半自動で通知を送る

ブレーカーを挙げた時に、開けた時は、年月日・曜日・日時を通知します。
ボタンを押したときに、閉めた時は、年月日・曜日・日時・活動時間を通知します。

![Team4](https://user-images.githubusercontent.com/71514776/147133296-87a13f9e-82bd-45b1-88bc-5cf7a10e199a.png)

### ボタンを押したら定型文を送る

ボタンを長押しすることで、定型文を送っています。  
一時的に部屋を出る時に鍵を持ち出した・戻ってきたを知らせるための定型文です。

### その他の機能

- ランダムで言葉を変える
  開け閉めの言葉がランダムで変わります。  
  1%ぐらいのレアな言葉もあるらしい...  
- 曜日でアイコンが変わる
- 誕生日やイベントを祝ってくれる

### 頑張ったところや失敗について

頑張ったところとしては、スイッチ1つで閉めと定型文の送信を送ることらしいです。  
失敗したところとしては、閉めの判定の全自動化を諦めたことらしいです。
今後は、Bluetoothやセンサを使用して全自動化を図るそうです。

### 感想

チーム4の作品は、単純ではありますが、便利だったりネタ要素が含まれていたりして面白い作品でした。  
また、機能紹介や頑張ったところ・失敗したところなどのスライドの作りが良く、発表としても凄くおもしろかったです。

## チーム1の発表

チーム1は、EPS32とLINEBotを使って家のエアコンを遠隔操作するものでした。
この作品は、LINEBotを介してスマホとESP32を繋げ、スマホで家の温度情報を見たり、エアコンを起動させたりできます。  
目的としては、日常生活で役立つものを作りたいというものがあり、会津の厳しい冬を超えるために作成したそうです。

サーバとLINEBotにはPython(Flask)を使用しています。
エアコンの起動には、スマホからサーバ側にON信号を送り、ESP32が10秒ごとにON信号が来ているか確認しています。

実際に送信した画面
![Team1](https://user-images.githubusercontent.com/71514776/147133468-4b9e9b45-5f46-4632-ac79-3283b73a78ca.png)

### 感想

チーム1は、サーバやLINEBot、赤外線の解析・送信など多くの技術を使用しており、2週間のクオリティではないなと感じました。  
ただ、発表ではソースコード全てをベタ張りして説明していたので理解がしにくかったです。(文字が小さすぎて読めなーい)  
しかし、ESP32とスマホのやり取りは図があったり、デモは実際にエアコンを操作する映像があったりして、とても分かりやすかったです。

## チーム6の発表

チーム6の作品は、「ESP32で操作する走り回るクリスマスツリー」です。  
この作品は、クリスマスツリーのような見た目をしており、Bluetooth通信を使用してスマホから操作できます。また、LEDテープを色々な点灯パターンで光らせられます。  
作成理由としては、発表日12/22の2日後にクリスマスがあるからです。

アプリの作成には、MITのApp Inventorを使用しています。  
これを使うことで、ブロックプログラミングで簡単にアプリが作成できます。  

![Team6](https://user-images.githubusercontent.com/71514776/147133530-9e869e2a-e56b-47ef-8bfc-10e597184be2.png)

デモでは、実際にスマホからの操作で、LEDを光らせたり走行させたりしていました。

![Team6Demo](https://user-images.githubusercontent.com/71514776/147133554-0acf6fef-02a2-46bf-a5f6-e45cc743d9f0.png)


今後は、WebSocket通信にも対応させていくとのことです。

### 感想

チーム6の作品は、Faboを使わない&レーザーカッターで機体を作るという、ハードウェアが強い作品でした。  
しかし、ハードウェアだけでなくアプリの製作や勉強会では教えていないBluetooth通信を使用しており、ソフトウェアの面も良かったです。
発表に関しては文句なしで、話す順序やその場でのデモなどいい要素がいっぱいありました。

## チーム5の発表

チーム5は、ブラウザから家のエアコンをEPS32で操作させるものでした。
この作品は、サーバを介してスマホとESP32を繋げ、エアコンを起動させます。  

サーバにはPython(Flask)を使用しており、スマホからネットを介して家のESP32に繋げています。

しかし、残念ながらこのチームの作品は完成できませんでした。

発表時に出来たものは、webからESP32に起動の情報を送る機能のみで、ESP32からエアコンを起動する機能を完成できなかったようです。

2週間という期間の中であまり時間が取れずに、赤外線の送信が完成していないそうです。

### 感想

このチームの発表は、図などを多用しており凄くわかりやすかったです。  
しかし、作品が完成しなかったことは非常に残念です。  
ぜひ、この後も開発を続けてもらいたいです。

## 順位発表

順位は、参加者全員が良かったと思うチーム2つに投票する形を取りました。(自チームへの投票は不可)  

その結果、順位は以下の通りになりました。  

**
1位: チーム1,チーム6  
2位: チーム3  
3位: チーム2  
**

まさかの1位のチームが2つ出来ました!  
今回は順位での差が1票とかがあり、レベルの高い発表だったと思います。

## IoT Dojoを主催した感想

IoTDojoを通して、多くの人にIoTに触れてもらう事が出来て非常に満足です。  
また、改めてESP32の勉強が出来たり、新しい可能性が知れて自分の身にもなりました。
